name: 'validate_pr.yml'

pr:
  autoCancel: false
  branches:
    include:
      - main
      - stable

variables:
  - name: isMain
    value: $[ eq(variables['Build.SourceBranch'], 'refs/heads/main') ]
    readonly: true
  - name: isStable
    value: $[ eq(variables['Build.SourceBranch'], 'refs/heads/stable') ]
    readonly: true
  - name: isPullRequest
    value: $[ eq(variables['Build.Reason'], 'PullRequest') ]
    readonly: true
  - name: sourceBranchName
    value: $[ variables['Build.SourceBranchName'] ]
  - template: variables/default.yml


pool:
  vmImage: $(vmImageName)

extends:
  template: main.yml
  parameters:
    mkdocsDeploy: False
    bicepParameter: ${{ variables['bicepParameter'] }}
